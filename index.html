<html>
<head>
<title>URL Scamble</title>
<script>
<!--
function rev(s){
    var sharp="";
    var pos=s.indexOf("#");
    if ( pos >= 0 ){
        sharp = s.substr(pos);
        s = s.substr(0,pos);
    }
    var r="";
    for (var i=s.length-1 ; i >= 0 ; i-- ){
        r = r + s.substr(i,1);
    }
    return r + sharp;
}
function start(){
    var qpos=location.href.indexOf("?");
    if ( qpos >= 0 ){
        var a = document.getElementById("anc");
        var url = rev(location.href.substr(qpos+1));
        a.href= url;
        a.innerText=url;
        document.getElementById("movesure").style.display = "";
    } else {
        var d = document.getElementById("urlform");
        d.style.display = "";
    }
}
function scramble(){
    prompt("",location.href + "?" + rev(window.form1.source.value))
}
//-->
</script>
</head>
<body onLoad="start()">
<form id="urlform" name="form1" method="post" style="display:none">
    <p>URL文字列の前後をひっくりかえした、リンク元が検索しづらくなる遷移用URLを作成します。
    <br />すべてJavaScriptだけで処理し、サーバ側にはデータを残しません。
    <br />本ページは怒られたら削除する可能性があります。
    </p>
    <div>URL: <input type="text" name="source" value="" size="90"/></div>
    <input type="button" onClick="JavaScript:scramble()" value="Scramble" />
</form>
<div id="movesure" style="display:none">
<p>次のURLへ移動します。問題なければクリックしてください。</p>
<a id="anc" href="">URL</a>
</div>
</body>
</html>
